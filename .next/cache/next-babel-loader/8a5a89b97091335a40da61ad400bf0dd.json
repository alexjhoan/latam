{"ast":null,"code":"var _jsxFileName = \"/home/ansina/jsStuff/infocasas-landings/shared-components/Components/Banners/BannerPopUp/web.tsx\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport \"./styles.less\";\nimport React, { useEffect, useState } from \"react\";\nimport { CloseCircleFilled } from \"@ant-design/icons\";\nimport { ImagenOptimizada } from \"../../Image/web\";\nimport { Modal } from \"antd\";\nimport { useBannerPopUp } from \"./BannerPopUp.hook\";\nimport { useTheme } from \"../../../Styles/ThemeHook\";\nconst LOCAL_STORAGE_KEY = \"popup_dinamico\";\nexport const BannerPopUp = () => {\n  const {\n    theme\n  } = useTheme();\n  const {\n    data,\n    error\n  } = useBannerPopUp();\n  const {\n    0: isOpen,\n    1: setOpen\n  } = useState(false);\n  useEffect(() => {\n    const lastTime = localStorage.getItem(LOCAL_STORAGE_KEY);\n\n    if (data && (data.image != null || data.video != null) && (!lastTime || Date.now() - parseInt(lastTime) > 1000 * 60 * 60 * 24)) {\n      setOpen(true);\n      let date = Date.now();\n      localStorage.setItem(LOCAL_STORAGE_KEY, date.toString());\n    } else if (error) {\n      setOpen(false);\n    }\n  }, [data, error]);\n  if (!isOpen) return null;\n\n  if (data.video != null) {\n    data[\"video_ext\"] = data.video.split(/\\#|\\?/)[0].split(\".\").pop().trim();\n  }\n\n  const onClose = () => setOpen(false);\n\n  return __jsx(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 3\n    }\n  }, __jsx(Modal, {\n    width: \"740px\",\n    className: \"modal-popup\",\n    visible: isOpen,\n    onCancel: onClose,\n    footer: null,\n    centered: true,\n    maskClosable: true,\n    keyboard: true,\n    closeIcon: __jsx(CloseCircleFilled, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 16\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 4\n    }\n  }, __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"3331540876\", [theme.spacing.smSpacing, theme.colors.borderColor, theme.colors.textColor, theme.spacing.smSpacing]]]) + \" \" + \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, __jsx(\"a\", {\n    target: \"_blank\",\n    href: data.url,\n    title: data.title,\n    onClick: () => onClose(),\n    className: _JSXStyle.dynamic([[\"3331540876\", [theme.spacing.smSpacing, theme.colors.borderColor, theme.colors.textColor, theme.spacing.smSpacing]]]) + \" \" + \"link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 6\n    }\n  }, data.video != null ? __jsx(\"video\", {\n    autoPlay: true,\n    loop: true,\n    muted: true,\n    poster: data.video_thumbnail,\n    className: _JSXStyle.dynamic([[\"3331540876\", [theme.spacing.smSpacing, theme.colors.borderColor, theme.colors.textColor, theme.spacing.smSpacing]]]),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 8\n    }\n  }, __jsx(\"source\", {\n    src: data.video,\n    type: \"video/\" + data.video_ext,\n    className: _JSXStyle.dynamic([[\"3331540876\", [theme.spacing.smSpacing, theme.colors.borderColor, theme.colors.textColor, theme.spacing.smSpacing]]]),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  })) : __jsx(\"picture\", {\n    className: _JSXStyle.dynamic([[\"3331540876\", [theme.spacing.smSpacing, theme.colors.borderColor, theme.colors.textColor, theme.spacing.smSpacing]]]),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 8\n    }\n  }, data.mobile_image != null ? __jsx(\"source\", {\n    media: \"(max-width: 980px)\",\n    srcSet: data.mobile_image,\n    className: _JSXStyle.dynamic([[\"3331540876\", [theme.spacing.smSpacing, theme.colors.borderColor, theme.colors.textColor, theme.spacing.smSpacing]]]),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 10\n    }\n  }) : null, __jsx(ImagenOptimizada, {\n    src: data.image,\n    alt: data.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }))))), __jsx(_JSXStyle, {\n    id: \"3331540876\",\n    dynamic: [theme.spacing.smSpacing, theme.colors.borderColor, theme.colors.textColor, theme.spacing.smSpacing],\n    __self: this\n  }, `.modal-popup .ant-modal-content{border-radius:${theme.spacing.smSpacing}px;background:transparent;}.modal-popup .ant-modal-content .ant-modal-close{color:${theme.colors.borderColor};}.modal-popup .ant-modal-content .ant-modal-close svg:hover{color:${theme.colors.textColor};}.modal-popup .content video,.modal-popup .content img{border-radius:${theme.spacing.smSpacing}px;}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2Fuc2luYS9qc1N0dWZmL2luZm9jYXNhcy1sYW5kaW5ncy9zaGFyZWQtY29tcG9uZW50cy9Db21wb25lbnRzL0Jhbm5lcnMvQmFubmVyUG9wVXAvd2ViLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUErRXNCLEFBR21ELEFBS1YsQUFJQSxBQUtVLG1DQVI5QyxBQUlBLFVBVHdCLEFBY3hCLHVCQWJBIiwiZmlsZSI6Ii9ob21lL2Fuc2luYS9qc1N0dWZmL2luZm9jYXNhcy1sYW5kaW5ncy9zaGFyZWQtY29tcG9uZW50cy9Db21wb25lbnRzL0Jhbm5lcnMvQmFubmVyUG9wVXAvd2ViLnRzeCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBcIi4vc3R5bGVzLmxlc3NcIjtcblxuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcblxuaW1wb3J0IHsgQ2xvc2VDaXJjbGVGaWxsZWQgfSBmcm9tIFwiQGFudC1kZXNpZ24vaWNvbnNcIjtcbmltcG9ydCB7IEltYWdlbk9wdGltaXphZGEgfSBmcm9tIFwiLi4vLi4vSW1hZ2Uvd2ViXCI7XG5pbXBvcnQgeyBNb2RhbCB9IGZyb20gXCJhbnRkXCI7XG5pbXBvcnQgeyB1c2VCYW5uZXJQb3BVcCB9IGZyb20gXCIuL0Jhbm5lclBvcFVwLmhvb2tcIjtcbmltcG9ydCB7IHVzZVRoZW1lIH0gZnJvbSBcIi4uLy4uLy4uL1N0eWxlcy9UaGVtZUhvb2tcIjtcblxuY29uc3QgTE9DQUxfU1RPUkFHRV9LRVkgPSBcInBvcHVwX2RpbmFtaWNvXCI7XG5cbmV4cG9ydCBjb25zdCBCYW5uZXJQb3BVcCA9ICgpID0+IHtcblx0Y29uc3QgeyB0aGVtZSB9ID0gdXNlVGhlbWUoKTtcblx0Y29uc3QgeyBkYXRhLCBlcnJvciB9ID0gdXNlQmFubmVyUG9wVXAoKTtcblx0Y29uc3QgW2lzT3Blbiwgc2V0T3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cblx0dXNlRWZmZWN0KCgpID0+IHtcblx0XHRjb25zdCBsYXN0VGltZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZKTtcblx0XHRpZiAoXG5cdFx0XHRkYXRhICYmXG5cdFx0XHQoZGF0YS5pbWFnZSAhPSBudWxsIHx8IGRhdGEudmlkZW8gIT0gbnVsbCkgJiZcblx0XHRcdCghbGFzdFRpbWUgfHwgRGF0ZS5ub3coKSAtIHBhcnNlSW50KGxhc3RUaW1lKSA+IDEwMDAgKiA2MCAqIDYwICogMjQpXG5cdFx0KSB7XG5cdFx0XHRzZXRPcGVuKHRydWUpO1xuXHRcdFx0bGV0IGRhdGUgPSBEYXRlLm5vdygpO1xuXHRcdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVksIGRhdGUudG9TdHJpbmcoKSk7XG5cdFx0fSBlbHNlIGlmIChlcnJvcikge1xuXHRcdFx0c2V0T3BlbihmYWxzZSk7XG5cdFx0fVxuXHR9LCBbZGF0YSwgZXJyb3JdKTtcblxuXHRpZiAoIWlzT3BlbikgcmV0dXJuIG51bGw7XG5cblx0aWYgKGRhdGEudmlkZW8gIT0gbnVsbCkge1xuXHRcdGRhdGFbXCJ2aWRlb19leHRcIl0gPSBkYXRhLnZpZGVvXG5cdFx0XHQuc3BsaXQoL1xcI3xcXD8vKVswXVxuXHRcdFx0LnNwbGl0KFwiLlwiKVxuXHRcdFx0LnBvcCgpXG5cdFx0XHQudHJpbSgpO1xuXHR9XG5cblx0Y29uc3Qgb25DbG9zZSA9ICgpID0+IHNldE9wZW4oZmFsc2UpO1xuXG5cdHJldHVybiAoXG5cdFx0PFJlYWN0LkZyYWdtZW50PlxuXHRcdFx0PE1vZGFsXG5cdFx0XHRcdHdpZHRoPVwiNzQwcHhcIlxuXHRcdFx0XHRjbGFzc05hbWU9XCJtb2RhbC1wb3B1cFwiXG5cdFx0XHRcdHZpc2libGU9e2lzT3Blbn1cblx0XHRcdFx0b25DYW5jZWw9e29uQ2xvc2V9XG5cdFx0XHRcdGZvb3Rlcj17bnVsbH1cblx0XHRcdFx0Y2VudGVyZWRcblx0XHRcdFx0bWFza0Nsb3NhYmxlXG5cdFx0XHRcdGtleWJvYXJkXG5cdFx0XHRcdGNsb3NlSWNvbj17PENsb3NlQ2lyY2xlRmlsbGVkIC8+fT5cblx0XHRcdFx0PGRpdiBjbGFzc05hbWU9XCJjb250ZW50XCI+XG5cdFx0XHRcdFx0PGFcblx0XHRcdFx0XHRcdHRhcmdldD1cIl9ibGFua1wiXG5cdFx0XHRcdFx0XHRocmVmPXtkYXRhLnVybH1cblx0XHRcdFx0XHRcdHRpdGxlPXtkYXRhLnRpdGxlfVxuXHRcdFx0XHRcdFx0Y2xhc3NOYW1lPVwibGlua1wiXG5cdFx0XHRcdFx0XHRvbkNsaWNrPXsoKSA9PiBvbkNsb3NlKCl9PlxuXHRcdFx0XHRcdFx0e2RhdGEudmlkZW8gIT0gbnVsbCA/IChcblx0XHRcdFx0XHRcdFx0PHZpZGVvIGF1dG9QbGF5IGxvb3AgbXV0ZWQgcG9zdGVyPXtkYXRhLnZpZGVvX3RodW1ibmFpbH0+XG5cdFx0XHRcdFx0XHRcdFx0PHNvdXJjZSBzcmM9e2RhdGEudmlkZW99IHR5cGU9e1widmlkZW8vXCIgKyBkYXRhLnZpZGVvX2V4dH0gLz5cblx0XHRcdFx0XHRcdFx0PC92aWRlbz5cblx0XHRcdFx0XHRcdCkgOiAoXG5cdFx0XHRcdFx0XHRcdDxwaWN0dXJlPlxuXHRcdFx0XHRcdFx0XHRcdHtkYXRhLm1vYmlsZV9pbWFnZSAhPSBudWxsID8gKFxuXHRcdFx0XHRcdFx0XHRcdFx0PHNvdXJjZSBtZWRpYT1cIihtYXgtd2lkdGg6IDk4MHB4KVwiIHNyY1NldD17ZGF0YS5tb2JpbGVfaW1hZ2V9IC8+XG5cdFx0XHRcdFx0XHRcdFx0KSA6IG51bGx9XG5cdFx0XHRcdFx0XHRcdFx0PEltYWdlbk9wdGltaXphZGEgc3JjPXtkYXRhLmltYWdlfSBhbHQ9e2RhdGEudGl0bGV9IC8+XG5cdFx0XHRcdFx0XHRcdDwvcGljdHVyZT5cblx0XHRcdFx0XHRcdCl9XG5cdFx0XHRcdFx0PC9hPlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdDwvTW9kYWw+XG5cblx0XHRcdDxzdHlsZSBqc3ggZ2xvYmFsPntgXG5cdFx0XHRcdC5tb2RhbC1wb3B1cCAuYW50LW1vZGFsLWNvbnRlbnQge1xuXHRcdFx0XHRcdGJvcmRlci1yYWRpdXM6ICR7dGhlbWUuc3BhY2luZy5zbVNwYWNpbmd9cHg7XG5cdFx0XHRcdFx0YmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQubW9kYWwtcG9wdXAgLmFudC1tb2RhbC1jb250ZW50IC5hbnQtbW9kYWwtY2xvc2Uge1xuXHRcdFx0XHRcdGNvbG9yOiAke3RoZW1lLmNvbG9ycy5ib3JkZXJDb2xvcn07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQubW9kYWwtcG9wdXAgLmFudC1tb2RhbC1jb250ZW50IC5hbnQtbW9kYWwtY2xvc2Ugc3ZnOmhvdmVyIHtcblx0XHRcdFx0XHRjb2xvcjogJHt0aGVtZS5jb2xvcnMudGV4dENvbG9yfTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC5tb2RhbC1wb3B1cCAuY29udGVudCB2aWRlbyxcblx0XHRcdFx0Lm1vZGFsLXBvcHVwIC5jb250ZW50IGltZyB7XG5cdFx0XHRcdFx0Ym9yZGVyLXJhZGl1czogJHt0aGVtZS5zcGFjaW5nLnNtU3BhY2luZ31weDtcblx0XHRcdFx0fVxuXHRcdFx0YH08L3N0eWxlPlxuXHRcdDwvUmVhY3QuRnJhZ21lbnQ+XG5cdCk7XG59O1xuIl19 */\n/*@ sourceURL=/home/ansina/jsStuff/infocasas-landings/shared-components/Components/Banners/BannerPopUp/web.tsx */`));\n};","map":{"version":3,"sources":["/home/ansina/jsStuff/infocasas-landings/shared-components/Components/Banners/BannerPopUp/web.tsx"],"names":["React","useEffect","useState","CloseCircleFilled","ImagenOptimizada","Modal","useBannerPopUp","useTheme","LOCAL_STORAGE_KEY","BannerPopUp","theme","data","error","isOpen","setOpen","lastTime","localStorage","getItem","image","video","Date","now","parseInt","date","setItem","toString","split","pop","trim","onClose","spacing","smSpacing","colors","borderColor","textColor","url","title","video_thumbnail","video_ext","mobile_image"],"mappings":"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","sourcesContent":["import \"./styles.less\";\n\nimport React, { useEffect, useState } from \"react\";\n\nimport { CloseCircleFilled } from \"@ant-design/icons\";\nimport { ImagenOptimizada } from \"../../Image/web\";\nimport { Modal } from \"antd\";\nimport { useBannerPopUp } from \"./BannerPopUp.hook\";\nimport { useTheme } from \"../../../Styles/ThemeHook\";\n\nconst LOCAL_STORAGE_KEY = \"popup_dinamico\";\n\nexport const BannerPopUp = () => {\n\tconst { theme } = useTheme();\n\tconst { data, error } = useBannerPopUp();\n\tconst [isOpen, setOpen] = useState(false);\n\n\tuseEffect(() => {\n\t\tconst lastTime = localStorage.getItem(LOCAL_STORAGE_KEY);\n\t\tif (\n\t\t\tdata &&\n\t\t\t(data.image != null || data.video != null) &&\n\t\t\t(!lastTime || Date.now() - parseInt(lastTime) > 1000 * 60 * 60 * 24)\n\t\t) {\n\t\t\tsetOpen(true);\n\t\t\tlet date = Date.now();\n\t\t\tlocalStorage.setItem(LOCAL_STORAGE_KEY, date.toString());\n\t\t} else if (error) {\n\t\t\tsetOpen(false);\n\t\t}\n\t}, [data, error]);\n\n\tif (!isOpen) return null;\n\n\tif (data.video != null) {\n\t\tdata[\"video_ext\"] = data.video\n\t\t\t.split(/\\#|\\?/)[0]\n\t\t\t.split(\".\")\n\t\t\t.pop()\n\t\t\t.trim();\n\t}\n\n\tconst onClose = () => setOpen(false);\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<Modal\n\t\t\t\twidth=\"740px\"\n\t\t\t\tclassName=\"modal-popup\"\n\t\t\t\tvisible={isOpen}\n\t\t\t\tonCancel={onClose}\n\t\t\t\tfooter={null}\n\t\t\t\tcentered\n\t\t\t\tmaskClosable\n\t\t\t\tkeyboard\n\t\t\t\tcloseIcon={<CloseCircleFilled />}>\n\t\t\t\t<div className=\"content\">\n\t\t\t\t\t<a\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\thref={data.url}\n\t\t\t\t\t\ttitle={data.title}\n\t\t\t\t\t\tclassName=\"link\"\n\t\t\t\t\t\tonClick={() => onClose()}>\n\t\t\t\t\t\t{data.video != null ? (\n\t\t\t\t\t\t\t<video autoPlay loop muted poster={data.video_thumbnail}>\n\t\t\t\t\t\t\t\t<source src={data.video} type={\"video/\" + data.video_ext} />\n\t\t\t\t\t\t\t</video>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<picture>\n\t\t\t\t\t\t\t\t{data.mobile_image != null ? (\n\t\t\t\t\t\t\t\t\t<source media=\"(max-width: 980px)\" srcSet={data.mobile_image} />\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t<ImagenOptimizada src={data.image} alt={data.title} />\n\t\t\t\t\t\t\t</picture>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</Modal>\n\n\t\t\t<style jsx global>{`\n\t\t\t\t.modal-popup .ant-modal-content {\n\t\t\t\t\tborder-radius: ${theme.spacing.smSpacing}px;\n\t\t\t\t\tbackground: transparent;\n\t\t\t\t}\n\n\t\t\t\t.modal-popup .ant-modal-content .ant-modal-close {\n\t\t\t\t\tcolor: ${theme.colors.borderColor};\n\t\t\t\t}\n\n\t\t\t\t.modal-popup .ant-modal-content .ant-modal-close svg:hover {\n\t\t\t\t\tcolor: ${theme.colors.textColor};\n\t\t\t\t}\n\n\t\t\t\t.modal-popup .content video,\n\t\t\t\t.modal-popup .content img {\n\t\t\t\t\tborder-radius: ${theme.spacing.smSpacing}px;\n\t\t\t\t}\n\t\t\t`}</style>\n\t\t</React.Fragment>\n\t);\n};\n"]},"metadata":{},"sourceType":"module"}