{"ast":null,"code":"var _jsxFileName = \"/home/ansina/jsStuff/infocasas-landings/shared-components/Components/Filters/KeywordLocation/web.tsx\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport \"./styles.less\";\nimport { AutoComplete, Col, Input, Row, Skeleton, Space, Typography } from \"antd\";\nimport { CloseOutlined, SearchOutlined } from \"@ant-design/icons\";\nimport { useKeywordLocation } from \"./KeywordLocation.hook\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { LoadingOutlined } from \"@ant-design/icons\";\nimport { LocationIcon } from \"../../CustomIcons/web\";\nimport { useTheme } from \"../../../Styles/ThemeHook\";\nimport { useTranslation } from \"react-i18next\";\nexport const KeywordLocation = props => {\n  const {\n    theme\n  } = useTheme();\n  const {\n    t\n  } = useTranslation();\n  const {\n    show,\n    keyword,\n    onSearch,\n    onSelect,\n    searchResults,\n    searchLoading,\n    location\n  } = useKeywordLocation(props);\n  const ref = useRef(null);\n  useEffect(() => {\n    if (location) ref.current.blur();\n  }, [location]);\n  const {\n    0: isOpen,\n    1: setOpen\n  } = useState(false);\n  if (!show) return null;\n\n  const renderOption = ({\n    value,\n    label,\n    data,\n    group = null,\n    icon\n  }) => {\n    return {\n      data: data,\n      value: value,\n      label: __jsx(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 5\n        }\n      }, __jsx(Col, {\n        style: {\n          marginRight: theme.spacing.smSpacing\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 6\n        }\n      }, icon), __jsx(Typography.Text, {\n        ellipsis: true,\n        style: {\n          flex: \"1\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 6\n        }\n      }, label), group && __jsx(Col, {\n        style: {\n          marginLeft: theme.spacing.smSpacing\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 7\n        }\n      }, __jsx(Typography.Text, {\n        type: \"secondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 8\n        }\n      }, group)))\n    };\n  };\n\n  const renderTitle = title => {\n    return __jsx(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 4\n      }\n    }, __jsx(Typography.Text, {\n      strong: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 5\n      }\n    }, title));\n  };\n\n  let options = []; // location options && recient searches\n\n  let optionsData = [];\n  let optionsTitle = \"\";\n\n  if ((searchResults === null || searchResults === void 0 ? void 0 : searchResults.searchLocation.length) > 0 && keyword.length > 0) {\n    optionsData = searchResults.searchLocation;\n    optionsTitle = t(\"Ubicacion\");\n  } else if (keyword.length == 0 && isOpen) {\n    optionsData = getRecientLocations();\n    optionsTitle = t(\"Recientes\");\n  }\n\n  if (optionsData.length > 0) {\n    options = [{\n      label: renderTitle(optionsTitle),\n      options: optionsData.map(o => {\n        const label = o.__typename == \"Neighborhood\" ? o.name + \", \" + o.estate.name : o.name;\n        const group = o.__typename == \"Neighborhood\" ? \"Barrio\" : \"Departamento\";\n\n        const icon = __jsx(LocationIcon, {\n          style: {\n            fontSize: theme.fontSizes.smTitle\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 19\n          }\n        });\n\n        return renderOption({\n          value: label,\n          label,\n          data: _objectSpread(_objectSpread({}, o), {}, {\n            label: label\n          }),\n          icon,\n          group\n        });\n      })\n    }];\n  } // keyword option\n\n\n  if (!searchLoading && keyword.length > 0) {\n    options = [...options, {\n      label: renderTitle(t(\"Palabra Clave\")),\n      options: [renderOption({\n        label: __jsx(React.Fragment, null, t(\"Buscar inmuebles relacionados a \"), __jsx(Typography.Text, {\n          strong: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 9\n          }\n        }, keyword)),\n        value: \" \" + keyword,\n        data: {\n          label: keyword,\n          __typename: \"keyword\"\n        },\n        icon: __jsx(SearchOutlined, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }\n        })\n      })]\n    }];\n  }\n\n  return __jsx(React.Fragment, null, searchLoading && keyword.length === 0 ? __jsx(Skeleton.Input, {\n    active: true,\n    className: \"keyword-location-skeleton\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 5\n    }\n  }) : __jsx(AutoComplete, {\n    className: \"filter keyword-location \" + props.className,\n    ref: ref,\n    backfill: true,\n    allowClear: true,\n    clearIcon: __jsx(CloseOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }\n    }),\n    value: keyword,\n    options: options,\n    notFoundContent: __jsx(Space, {\n      style: {\n        padding: `${theme.spacing.xsSpacing}px 0`\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 7\n      }\n    }, keyword != \"\" && __jsx(LoadingOutlined, {\n      style: {\n        fontSize: 18\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 26\n      }\n    }), __jsx(Typography.Text, {\n      type: \"secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 8\n      }\n    }, keyword != \"\" ? t(\"Cargando\") : t(\"Escribe una ubicación o palabra clave\"))),\n    dropdownClassName: \"dropdown-keyword-location\",\n    onSearch: onSearch,\n    onSelect: (a, b) => onSelect(a, b.data),\n    onFocus: () => {\n      onSearch(\"\");\n    },\n    onBlur: e => {\n      if (location) onSearch(location.label);\n    },\n    onDropdownVisibleChange: e => setOpen(e),\n    placeholder: t(\"Buscá por ubicación o palabra clave\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 5\n    }\n  }, __jsx(Input, {\n    onPressEnter: () => {\n      if (keyword) onSelect(keyword, {\n        label: keyword,\n        __typename: \"keyword\"\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 6\n    }\n  })), __jsx(_JSXStyle, {\n    id: \"3659517455\",\n    dynamic: [theme.spacing.xsSpacing, theme.spacing.mdSpacing, theme.spacing.xsSpacing, theme.colors.backgroundColorAternative, theme.breakPoints.lg, theme.spacing.smSpacing, theme.spacing.smSpacing],\n    __self: this\n  }, `.dropdown-keyword-location .ant-select-item-option-grouped,.dropdown-keyword-location .ant-select-item{padding:${theme.spacing.xsSpacing}px ${theme.spacing.mdSpacing}px;}.dropdown-keyword-location .ant-select-item.ant-select-item-group{padding-top:${theme.spacing.xsSpacing}px;background:${theme.colors.backgroundColorAternative};}@media screen and (max-width:${theme.breakPoints.lg}){.home-filters .keyword-location .ant-input{border-radius:${theme.spacing.smSpacing}px 0 0 ${theme.spacing.smSpacing}px;position:relative;-webkit-appearance:none;}}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2Fuc2luYS9qc1N0dWZmL2luZm9jYXNhcy1sYW5kaW5ncy9zaGFyZWQtY29tcG9uZW50cy9Db21wb25lbnRzL0ZpbHRlcnMvS2V5d29yZExvY2F0aW9uL3dlYi50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBa0tzQixBQUk0RSxBQUkzQixBQU1zQywyQ0FMekMsMkJBSnpDLFVBVW9CLEdBTHBCLGVBTTBCLHdCQUN6QiIsImZpbGUiOiIvaG9tZS9hbnNpbmEvanNTdHVmZi9pbmZvY2FzYXMtbGFuZGluZ3Mvc2hhcmVkLWNvbXBvbmVudHMvQ29tcG9uZW50cy9GaWx0ZXJzL0tleXdvcmRMb2NhdGlvbi93ZWIudHN4Iiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFwiLi9zdHlsZXMubGVzc1wiO1xuXG5pbXBvcnQgeyBBdXRvQ29tcGxldGUsIENvbCwgSW5wdXQsIFJvdywgU2tlbGV0b24sIFNwYWNlLCBUeXBvZ3JhcGh5IH0gZnJvbSBcImFudGRcIjtcbmltcG9ydCB7IENsb3NlT3V0bGluZWQsIFNlYXJjaE91dGxpbmVkIH0gZnJvbSBcIkBhbnQtZGVzaWduL2ljb25zXCI7XG5pbXBvcnQgeyBLZXl3b3JkTG9jYXRpb25Qcm9wcywgdXNlS2V5d29yZExvY2F0aW9uIH0gZnJvbSBcIi4vS2V5d29yZExvY2F0aW9uLmhvb2tcIjtcbmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcblxuaW1wb3J0IHsgTG9hZGluZ091dGxpbmVkIH0gZnJvbSBcIkBhbnQtZGVzaWduL2ljb25zXCI7XG5pbXBvcnQgeyBMb2NhdGlvbkljb24gfSBmcm9tIFwiLi4vLi4vQ3VzdG9tSWNvbnMvd2ViXCI7XG5pbXBvcnQgeyB1c2VUaGVtZSB9IGZyb20gXCIuLi8uLi8uLi9TdHlsZXMvVGhlbWVIb29rXCI7XG5pbXBvcnQgeyB1c2VUcmFuc2xhdGlvbiB9IGZyb20gXCJyZWFjdC1pMThuZXh0XCI7XG5cbmV4cG9ydCBjb25zdCBLZXl3b3JkTG9jYXRpb24gPSAocHJvcHM6IEtleXdvcmRMb2NhdGlvblByb3BzKSA9PiB7XG5cdGNvbnN0IHsgdGhlbWUgfSA9IHVzZVRoZW1lKCk7XG5cblx0Y29uc3QgeyB0IH0gPSB1c2VUcmFuc2xhdGlvbigpO1xuXHRjb25zdCB7XG5cdFx0c2hvdyxcblx0XHRrZXl3b3JkLFxuXHRcdG9uU2VhcmNoLFxuXHRcdG9uU2VsZWN0LFxuXHRcdHNlYXJjaFJlc3VsdHMsXG5cdFx0c2VhcmNoTG9hZGluZyxcblx0XHRsb2NhdGlvbixcblx0fSA9IHVzZUtleXdvcmRMb2NhdGlvbihwcm9wcyk7XG5cdGNvbnN0IHJlZiA9IHVzZVJlZihudWxsKTtcblxuXHR1c2VFZmZlY3QoKCkgPT4ge1xuXHRcdGlmIChsb2NhdGlvbikgcmVmLmN1cnJlbnQuYmx1cigpO1xuXHR9LCBbbG9jYXRpb25dKTtcblxuXHRjb25zdCBbaXNPcGVuLCBzZXRPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuXHRpZiAoIXNob3cpIHJldHVybiBudWxsO1xuXG5cdGNvbnN0IHJlbmRlck9wdGlvbiA9ICh7IHZhbHVlLCBsYWJlbCwgZGF0YSwgZ3JvdXAgPSBudWxsLCBpY29uIH0pID0+IHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0ZGF0YTogZGF0YSxcblx0XHRcdHZhbHVlOiB2YWx1ZSxcblx0XHRcdGxhYmVsOiAoXG5cdFx0XHRcdDxSb3c+XG5cdFx0XHRcdFx0PENvbCBzdHlsZT17eyBtYXJnaW5SaWdodDogdGhlbWUuc3BhY2luZy5zbVNwYWNpbmcgfX0+e2ljb259PC9Db2w+XG5cdFx0XHRcdFx0PFR5cG9ncmFwaHkuVGV4dCBlbGxpcHNpcyBzdHlsZT17eyBmbGV4OiBcIjFcIiB9fT5cblx0XHRcdFx0XHRcdHtsYWJlbH1cblx0XHRcdFx0XHQ8L1R5cG9ncmFwaHkuVGV4dD5cblx0XHRcdFx0XHR7Z3JvdXAgJiYgKFxuXHRcdFx0XHRcdFx0PENvbCBzdHlsZT17eyBtYXJnaW5MZWZ0OiB0aGVtZS5zcGFjaW5nLnNtU3BhY2luZyB9fT5cblx0XHRcdFx0XHRcdFx0PFR5cG9ncmFwaHkuVGV4dCB0eXBlPVwic2Vjb25kYXJ5XCI+e2dyb3VwfTwvVHlwb2dyYXBoeS5UZXh0PlxuXHRcdFx0XHRcdFx0PC9Db2w+XG5cdFx0XHRcdFx0KX1cblx0XHRcdFx0PC9Sb3c+XG5cdFx0XHQpLFxuXHRcdH07XG5cdH07XG5cdGNvbnN0IHJlbmRlclRpdGxlID0gdGl0bGUgPT4ge1xuXHRcdHJldHVybiAoXG5cdFx0XHQ8Um93PlxuXHRcdFx0XHQ8VHlwb2dyYXBoeS5UZXh0IHN0cm9uZz57dGl0bGV9PC9UeXBvZ3JhcGh5LlRleHQ+XG5cdFx0XHQ8L1Jvdz5cblx0XHQpO1xuXHR9O1xuXG5cdGxldCBvcHRpb25zID0gW107XG5cblx0Ly8gbG9jYXRpb24gb3B0aW9ucyAmJiByZWNpZW50IHNlYXJjaGVzXG5cdGxldCBvcHRpb25zRGF0YSA9IFtdO1xuXHRsZXQgb3B0aW9uc1RpdGxlID0gXCJcIjtcblxuXHRpZiAoc2VhcmNoUmVzdWx0cz8uc2VhcmNoTG9jYXRpb24ubGVuZ3RoID4gMCAmJiBrZXl3b3JkLmxlbmd0aCA+IDApIHtcblx0XHRvcHRpb25zRGF0YSA9IHNlYXJjaFJlc3VsdHMuc2VhcmNoTG9jYXRpb247XG5cdFx0b3B0aW9uc1RpdGxlID0gdChcIlViaWNhY2lvblwiKTtcblx0fSBlbHNlIGlmIChrZXl3b3JkLmxlbmd0aCA9PSAwICYmIGlzT3Blbikge1xuXHRcdG9wdGlvbnNEYXRhID0gZ2V0UmVjaWVudExvY2F0aW9ucygpO1xuXHRcdG9wdGlvbnNUaXRsZSA9IHQoXCJSZWNpZW50ZXNcIik7XG5cdH1cblxuXHRpZiAob3B0aW9uc0RhdGEubGVuZ3RoID4gMCkge1xuXHRcdG9wdGlvbnMgPSBbXG5cdFx0XHR7XG5cdFx0XHRcdGxhYmVsOiByZW5kZXJUaXRsZShvcHRpb25zVGl0bGUpLFxuXHRcdFx0XHRvcHRpb25zOiBvcHRpb25zRGF0YS5tYXAobyA9PiB7XG5cdFx0XHRcdFx0Y29uc3QgbGFiZWwgPVxuXHRcdFx0XHRcdFx0by5fX3R5cGVuYW1lID09IFwiTmVpZ2hib3Job29kXCIgPyBvLm5hbWUgKyBcIiwgXCIgKyBvLmVzdGF0ZS5uYW1lIDogby5uYW1lO1xuXHRcdFx0XHRcdGNvbnN0IGdyb3VwID0gby5fX3R5cGVuYW1lID09IFwiTmVpZ2hib3Job29kXCIgPyBcIkJhcnJpb1wiIDogXCJEZXBhcnRhbWVudG9cIjtcblx0XHRcdFx0XHRjb25zdCBpY29uID0gPExvY2F0aW9uSWNvbiBzdHlsZT17eyBmb250U2l6ZTogdGhlbWUuZm9udFNpemVzLnNtVGl0bGUgfX0gLz47XG5cdFx0XHRcdFx0cmV0dXJuIHJlbmRlck9wdGlvbih7XG5cdFx0XHRcdFx0XHR2YWx1ZTogbGFiZWwsXG5cdFx0XHRcdFx0XHRsYWJlbCxcblx0XHRcdFx0XHRcdGRhdGE6IHsgLi4ubywgbGFiZWw6IGxhYmVsIH0sXG5cdFx0XHRcdFx0XHRpY29uLFxuXHRcdFx0XHRcdFx0Z3JvdXAsXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0pLFxuXHRcdFx0fSxcblx0XHRdO1xuXHR9XG5cblx0Ly8ga2V5d29yZCBvcHRpb25cblx0aWYgKCFzZWFyY2hMb2FkaW5nICYmIGtleXdvcmQubGVuZ3RoID4gMCkge1xuXHRcdG9wdGlvbnMgPSBbXG5cdFx0XHQuLi5vcHRpb25zLFxuXHRcdFx0e1xuXHRcdFx0XHRsYWJlbDogcmVuZGVyVGl0bGUodChcIlBhbGFicmEgQ2xhdmVcIikpLFxuXHRcdFx0XHRvcHRpb25zOiBbXG5cdFx0XHRcdFx0cmVuZGVyT3B0aW9uKHtcblx0XHRcdFx0XHRcdGxhYmVsOiAoXG5cdFx0XHRcdFx0XHRcdDw+XG5cdFx0XHRcdFx0XHRcdFx0e3QoXCJCdXNjYXIgaW5tdWVibGVzIHJlbGFjaW9uYWRvcyBhIFwiKX1cblx0XHRcdFx0XHRcdFx0XHQ8VHlwb2dyYXBoeS5UZXh0IHN0cm9uZz57a2V5d29yZH08L1R5cG9ncmFwaHkuVGV4dD5cblx0XHRcdFx0XHRcdFx0PC8+XG5cdFx0XHRcdFx0XHQpLFxuXHRcdFx0XHRcdFx0dmFsdWU6IFwiIFwiICsga2V5d29yZCxcblx0XHRcdFx0XHRcdGRhdGE6IHsgbGFiZWw6IGtleXdvcmQsIF9fdHlwZW5hbWU6IFwia2V5d29yZFwiIH0sXG5cdFx0XHRcdFx0XHRpY29uOiA8U2VhcmNoT3V0bGluZWQgLz4sXG5cdFx0XHRcdFx0fSksXG5cdFx0XHRcdF0sXG5cdFx0XHR9LFxuXHRcdF07XG5cdH1cblxuXHRyZXR1cm4gKFxuXHRcdDw+XG5cdFx0XHR7c2VhcmNoTG9hZGluZyAmJiBrZXl3b3JkLmxlbmd0aCA9PT0gMCA/IChcblx0XHRcdFx0PFNrZWxldG9uLklucHV0IGFjdGl2ZSBjbGFzc05hbWU9e1wia2V5d29yZC1sb2NhdGlvbi1za2VsZXRvblwifSAvPlxuXHRcdFx0KSA6IChcblx0XHRcdFx0PEF1dG9Db21wbGV0ZVxuXHRcdFx0XHRcdGNsYXNzTmFtZT17XCJmaWx0ZXIga2V5d29yZC1sb2NhdGlvbiBcIiArIHByb3BzLmNsYXNzTmFtZX1cblx0XHRcdFx0XHRyZWY9e3JlZn1cblx0XHRcdFx0XHRiYWNrZmlsbFxuXHRcdFx0XHRcdGFsbG93Q2xlYXJcblx0XHRcdFx0XHRjbGVhckljb249ezxDbG9zZU91dGxpbmVkIC8+fVxuXHRcdFx0XHRcdHZhbHVlPXtrZXl3b3JkfVxuXHRcdFx0XHRcdG9wdGlvbnM9e29wdGlvbnN9XG5cdFx0XHRcdFx0bm90Rm91bmRDb250ZW50PXtcblx0XHRcdFx0XHRcdDxTcGFjZSBzdHlsZT17eyBwYWRkaW5nOiBgJHt0aGVtZS5zcGFjaW5nLnhzU3BhY2luZ31weCAwYCB9fT5cblx0XHRcdFx0XHRcdFx0e2tleXdvcmQgIT0gXCJcIiAmJiA8TG9hZGluZ091dGxpbmVkIHN0eWxlPXt7IGZvbnRTaXplOiAxOCB9fSAvPn1cblx0XHRcdFx0XHRcdFx0PFR5cG9ncmFwaHkuVGV4dCB0eXBlPXtcInNlY29uZGFyeVwifT5cblx0XHRcdFx0XHRcdFx0XHR7a2V5d29yZCAhPSBcIlwiXG5cdFx0XHRcdFx0XHRcdFx0XHQ/IHQoXCJDYXJnYW5kb1wiKVxuXHRcdFx0XHRcdFx0XHRcdFx0OiB0KFwiRXNjcmliZSB1bmEgdWJpY2FjacOzbiBvIHBhbGFicmEgY2xhdmVcIil9XG5cdFx0XHRcdFx0XHRcdDwvVHlwb2dyYXBoeS5UZXh0PlxuXHRcdFx0XHRcdFx0PC9TcGFjZT5cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZHJvcGRvd25DbGFzc05hbWU9e1wiZHJvcGRvd24ta2V5d29yZC1sb2NhdGlvblwifVxuXHRcdFx0XHRcdG9uU2VhcmNoPXtvblNlYXJjaH1cblx0XHRcdFx0XHRvblNlbGVjdD17KGEsIGIpID0+IG9uU2VsZWN0KGEsIGIuZGF0YSl9XG5cdFx0XHRcdFx0b25Gb2N1cz17KCkgPT4ge1xuXHRcdFx0XHRcdFx0b25TZWFyY2goXCJcIik7XG5cdFx0XHRcdFx0fX1cblx0XHRcdFx0XHRvbkJsdXI9e2UgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKGxvY2F0aW9uKSBvblNlYXJjaChsb2NhdGlvbi5sYWJlbCk7XG5cdFx0XHRcdFx0fX1cblx0XHRcdFx0XHRvbkRyb3Bkb3duVmlzaWJsZUNoYW5nZT17ZSA9PiBzZXRPcGVuKGUpfVxuXHRcdFx0XHRcdHBsYWNlaG9sZGVyPXt0KFwiQnVzY8OhIHBvciB1YmljYWNpw7NuIG8gcGFsYWJyYSBjbGF2ZVwiKX0+XG5cdFx0XHRcdFx0PElucHV0XG5cdFx0XHRcdFx0XHRvblByZXNzRW50ZXI9eygpID0+IHtcblx0XHRcdFx0XHRcdFx0aWYgKGtleXdvcmQpXG5cdFx0XHRcdFx0XHRcdFx0b25TZWxlY3Qoa2V5d29yZCwgeyBsYWJlbDoga2V5d29yZCwgX190eXBlbmFtZTogXCJrZXl3b3JkXCIgfSk7XG5cdFx0XHRcdFx0XHR9fVxuXHRcdFx0XHRcdC8+XG5cdFx0XHRcdDwvQXV0b0NvbXBsZXRlPlxuXHRcdFx0KX1cblx0XHRcdDxzdHlsZSBqc3ggZ2xvYmFsPntgXG5cdFx0XHRcdC5kcm9wZG93bi1rZXl3b3JkLWxvY2F0aW9uIC5hbnQtc2VsZWN0LWl0ZW0tb3B0aW9uLWdyb3VwZWQsXG5cdFx0XHRcdC5kcm9wZG93bi1rZXl3b3JkLWxvY2F0aW9uIC5hbnQtc2VsZWN0LWl0ZW0ge1xuXHRcdFx0XHRcdHBhZGRpbmc6ICR7dGhlbWUuc3BhY2luZy54c1NwYWNpbmd9cHggJHt0aGVtZS5zcGFjaW5nLm1kU3BhY2luZ31weDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC5kcm9wZG93bi1rZXl3b3JkLWxvY2F0aW9uIC5hbnQtc2VsZWN0LWl0ZW0uYW50LXNlbGVjdC1pdGVtLWdyb3VwIHtcblx0XHRcdFx0XHRwYWRkaW5nLXRvcDogJHt0aGVtZS5zcGFjaW5nLnhzU3BhY2luZ31weDtcblx0XHRcdFx0XHRiYWNrZ3JvdW5kOiAke3RoZW1lLmNvbG9ycy5iYWNrZ3JvdW5kQ29sb3JBdGVybmF0aXZlfTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdEBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6ICR7dGhlbWUuYnJlYWtQb2ludHMubGd9KSB7XG5cdFx0XHRcdFx0LmhvbWUtZmlsdGVycyAua2V5d29yZC1sb2NhdGlvbiAuYW50LWlucHV0IHtcblx0XHRcdFx0XHRcdGJvcmRlci1yYWRpdXM6ICR7dGhlbWUuc3BhY2luZy5zbVNwYWNpbmd9cHggMCAwICR7dGhlbWUuc3BhY2luZy5zbVNwYWNpbmd9cHg7XG5cdFx0XHRcdFx0XHRwb3NpdGlvbjogcmVsYXRpdmU7XG5cdFx0XHRcdFx0XHQtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRgfTwvc3R5bGU+XG5cdFx0PC8+XG5cdCk7XG59O1xuXG5leHBvcnQgY29uc3QgTE9DQUxfU1RPUkFHRV9LRVkgPSBcIlJlY2llbnRMb2NhdGlvbnNcIjtcbmNvbnN0IGdldFJlY2llbnRMb2NhdGlvbnMgPSAoKSA9PiB7XG5cdGNvbnN0IGl0ZW1zID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVkpO1xuXHRsZXQgcmVzID0gW107XG5cdGlmIChpdGVtcykgcmVzID0gSlNPTi5wYXJzZShpdGVtcyk7XG5cdHJldHVybiByZXM7XG59O1xuZXhwb3J0IGNvbnN0IHNldFJlY2llbnRMb2NhdGlvbnMgPSAobmVpZ2hib3Job29kLCBlc3RhdGUpID0+IHtcblx0aWYgKGVzdGF0ZSkge1xuXHRcdGxldCBsb2NhdGlvbiA9IHt9O1xuXHRcdGxvY2F0aW9uW1wiaWRcIl0gPSBlc3RhdGVbXCJ2YWx1ZVwiXTtcblx0XHRsb2NhdGlvbltcIm5hbWVcIl0gPSBlc3RhdGVbXCJ0ZXh0XCJdO1xuXHRcdGxvY2F0aW9uW1wiX190eXBlbmFtZVwiXSA9IFwiRXN0YXRlXCI7XG5cdFx0aWYgKG5laWdoYm9yaG9vZCkge1xuXHRcdFx0bG9jYXRpb25bXCJlc3RhdGVcIl0gPSB7IC4uLmxvY2F0aW9uIH07XG5cdFx0XHRsb2NhdGlvbltcImlkXCJdID0gbmVpZ2hib3Job29kWzBdW1widmFsdWVcIl07XG5cdFx0XHRsb2NhdGlvbltcIm5hbWVcIl0gPSBuZWlnaGJvcmhvb2RbMF1bXCJ0ZXh0XCJdO1xuXHRcdFx0bG9jYXRpb25bXCJfX3R5cGVuYW1lXCJdID0gXCJOZWlnaGJvcmhvb2RcIjtcblx0XHR9XG5cdFx0bGV0IHJlcyA9IGdldFJlY2llbnRMb2NhdGlvbnMoKTtcblx0XHRyZXMgPSByZXMuZmlsdGVyKGwgPT4gbC5pZCAhPSBsb2NhdGlvbltcImlkXCJdIHx8IGxbXCJfX3R5cGVuYW1lXCJdICE9IGxvY2F0aW9uW1wiX190eXBlbmFtZVwiXSk7XG5cdFx0cmVzID0gW3sgLi4ubG9jYXRpb24gfSwgLi4ucmVzXTtcblx0XHRpZiAocmVzLmxlbmd0aCA+IDUpIHJlcy5wb3AoKTtcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWSwgSlNPTi5zdHJpbmdpZnkocmVzKSk7XG5cdH1cbn07XG4iXX0= */\n/*@ sourceURL=/home/ansina/jsStuff/infocasas-landings/shared-components/Components/Filters/KeywordLocation/web.tsx */`));\n};\nexport const LOCAL_STORAGE_KEY = \"RecientLocations\";\n\nconst getRecientLocations = () => {\n  const items = localStorage.getItem(LOCAL_STORAGE_KEY);\n  let res = [];\n  if (items) res = JSON.parse(items);\n  return res;\n};\n\nexport const setRecientLocations = (neighborhood, estate) => {\n  if (estate) {\n    let location = {};\n    location[\"id\"] = estate[\"value\"];\n    location[\"name\"] = estate[\"text\"];\n    location[\"__typename\"] = \"Estate\";\n\n    if (neighborhood) {\n      location[\"estate\"] = _objectSpread({}, location);\n      location[\"id\"] = neighborhood[0][\"value\"];\n      location[\"name\"] = neighborhood[0][\"text\"];\n      location[\"__typename\"] = \"Neighborhood\";\n    }\n\n    let res = getRecientLocations();\n    res = res.filter(l => l.id != location[\"id\"] || l[\"__typename\"] != location[\"__typename\"]);\n    res = [_objectSpread({}, location), ...res];\n    if (res.length > 5) res.pop();\n    localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(res));\n  }\n};","map":{"version":3,"sources":["/home/ansina/jsStuff/infocasas-landings/shared-components/Components/Filters/KeywordLocation/web.tsx"],"names":["AutoComplete","Col","Input","Row","Skeleton","Space","Typography","CloseOutlined","SearchOutlined","useKeywordLocation","React","useEffect","useRef","useState","LoadingOutlined","LocationIcon","useTheme","useTranslation","KeywordLocation","props","theme","t","show","keyword","onSearch","onSelect","searchResults","searchLoading","location","ref","current","blur","isOpen","setOpen","renderOption","value","label","data","group","icon","marginRight","spacing","smSpacing","flex","marginLeft","renderTitle","title","options","optionsData","optionsTitle","searchLocation","length","getRecientLocations","map","o","__typename","name","estate","fontSize","fontSizes","smTitle","className","padding","xsSpacing","a","b","e","mdSpacing","colors","backgroundColorAternative","breakPoints","lg","LOCAL_STORAGE_KEY","items","localStorage","getItem","res","JSON","parse","setRecientLocations","neighborhood","filter","l","id","pop","setItem","stringify"],"mappings":";;;;;;;;;;AAAA,OAAO,eAAP;AAEA,SAASA,YAAT,EAAuBC,GAAvB,EAA4BC,KAA5B,EAAmCC,GAAnC,EAAwCC,QAAxC,EAAkDC,KAAlD,EAAyDC,UAAzD,QAA2E,MAA3E;AACA,SAASC,aAAT,EAAwBC,cAAxB,QAA8C,mBAA9C;AACA,SAA+BC,kBAA/B,QAAyD,wBAAzD;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,EAAmCC,QAAnC,QAAmD,OAAnD;AAEA,SAASC,eAAT,QAAgC,mBAAhC;AACA,SAASC,YAAT,QAA6B,uBAA7B;AACA,SAASC,QAAT,QAAyB,2BAAzB;AACA,SAASC,cAAT,QAA+B,eAA/B;AAEA,OAAO,MAAMC,eAAe,GAAIC,KAAD,IAAiC;AAC/D,QAAM;AAAEC,IAAAA;AAAF,MAAYJ,QAAQ,EAA1B;AAEA,QAAM;AAAEK,IAAAA;AAAF,MAAQJ,cAAc,EAA5B;AACA,QAAM;AACLK,IAAAA,IADK;AAELC,IAAAA,OAFK;AAGLC,IAAAA,QAHK;AAILC,IAAAA,QAJK;AAKLC,IAAAA,aALK;AAMLC,IAAAA,aANK;AAOLC,IAAAA;AAPK,MAQFnB,kBAAkB,CAACU,KAAD,CARtB;AASA,QAAMU,GAAG,GAAGjB,MAAM,CAAC,IAAD,CAAlB;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACf,QAAIiB,QAAJ,EAAcC,GAAG,CAACC,OAAJ,CAAYC,IAAZ;AACd,GAFQ,EAEN,CAACH,QAAD,CAFM,CAAT;AAIA,QAAM;AAAA,OAACI,MAAD;AAAA,OAASC;AAAT,MAAoBpB,QAAQ,CAAC,KAAD,CAAlC;AAEA,MAAI,CAACS,IAAL,EAAW,OAAO,IAAP;;AAEX,QAAMY,YAAY,GAAG,CAAC;AAAEC,IAAAA,KAAF;AAASC,IAAAA,KAAT;AAAgBC,IAAAA,IAAhB;AAAsBC,IAAAA,KAAK,GAAG,IAA9B;AAAoCC,IAAAA;AAApC,GAAD,KAAgD;AACpE,WAAO;AACNF,MAAAA,IAAI,EAAEA,IADA;AAENF,MAAAA,KAAK,EAAEA,KAFD;AAGNC,MAAAA,KAAK,EACJ,MAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,MAAC,GAAD;AAAK,QAAA,KAAK,EAAE;AAAEI,UAAAA,WAAW,EAAEpB,KAAK,CAACqB,OAAN,CAAcC;AAA7B,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAuDH,IAAvD,CADD,EAEC,MAAC,UAAD,CAAY,IAAZ;AAAiB,QAAA,QAAQ,MAAzB;AAA0B,QAAA,KAAK,EAAE;AAAEI,UAAAA,IAAI,EAAE;AAAR,SAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACEP,KADF,CAFD,EAKEE,KAAK,IACL,MAAC,GAAD;AAAK,QAAA,KAAK,EAAE;AAAEM,UAAAA,UAAU,EAAExB,KAAK,CAACqB,OAAN,CAAcC;AAA5B,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,MAAC,UAAD,CAAY,IAAZ;AAAiB,QAAA,IAAI,EAAC,WAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAmCJ,KAAnC,CADD,CANF;AAJK,KAAP;AAiBA,GAlBD;;AAmBA,QAAMO,WAAW,GAAGC,KAAK,IAAI;AAC5B,WACC,MAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,MAAC,UAAD,CAAY,IAAZ;AAAiB,MAAA,MAAM,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAyBA,KAAzB,CADD,CADD;AAKA,GAND;;AAQA,MAAIC,OAAO,GAAG,EAAd,CAlD+D,CAoD/D;;AACA,MAAIC,WAAW,GAAG,EAAlB;AACA,MAAIC,YAAY,GAAG,EAAnB;;AAEA,MAAI,CAAAvB,aAAa,SAAb,IAAAA,aAAa,WAAb,YAAAA,aAAa,CAAEwB,cAAf,CAA8BC,MAA9B,IAAuC,CAAvC,IAA4C5B,OAAO,CAAC4B,MAAR,GAAiB,CAAjE,EAAoE;AACnEH,IAAAA,WAAW,GAAGtB,aAAa,CAACwB,cAA5B;AACAD,IAAAA,YAAY,GAAG5B,CAAC,CAAC,WAAD,CAAhB;AACA,GAHD,MAGO,IAAIE,OAAO,CAAC4B,MAAR,IAAkB,CAAlB,IAAuBnB,MAA3B,EAAmC;AACzCgB,IAAAA,WAAW,GAAGI,mBAAmB,EAAjC;AACAH,IAAAA,YAAY,GAAG5B,CAAC,CAAC,WAAD,CAAhB;AACA;;AAED,MAAI2B,WAAW,CAACG,MAAZ,GAAqB,CAAzB,EAA4B;AAC3BJ,IAAAA,OAAO,GAAG,CACT;AACCX,MAAAA,KAAK,EAAES,WAAW,CAACI,YAAD,CADnB;AAECF,MAAAA,OAAO,EAAEC,WAAW,CAACK,GAAZ,CAAgBC,CAAC,IAAI;AAC7B,cAAMlB,KAAK,GACVkB,CAAC,CAACC,UAAF,IAAgB,cAAhB,GAAiCD,CAAC,CAACE,IAAF,GAAS,IAAT,GAAgBF,CAAC,CAACG,MAAF,CAASD,IAA1D,GAAiEF,CAAC,CAACE,IADpE;AAEA,cAAMlB,KAAK,GAAGgB,CAAC,CAACC,UAAF,IAAgB,cAAhB,GAAiC,QAAjC,GAA4C,cAA1D;;AACA,cAAMhB,IAAI,GAAG,MAAC,YAAD;AAAc,UAAA,KAAK,EAAE;AAAEmB,YAAAA,QAAQ,EAAEtC,KAAK,CAACuC,SAAN,CAAgBC;AAA5B,WAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAb;;AACA,eAAO1B,YAAY,CAAC;AACnBC,UAAAA,KAAK,EAAEC,KADY;AAEnBA,UAAAA,KAFmB;AAGnBC,UAAAA,IAAI,kCAAOiB,CAAP;AAAUlB,YAAAA,KAAK,EAAEA;AAAjB,YAHe;AAInBG,UAAAA,IAJmB;AAKnBD,UAAAA;AALmB,SAAD,CAAnB;AAOA,OAZQ;AAFV,KADS,CAAV;AAkBA,GAnF8D,CAqF/D;;;AACA,MAAI,CAACX,aAAD,IAAkBJ,OAAO,CAAC4B,MAAR,GAAiB,CAAvC,EAA0C;AACzCJ,IAAAA,OAAO,GAAG,CACT,GAAGA,OADM,EAET;AACCX,MAAAA,KAAK,EAAES,WAAW,CAACxB,CAAC,CAAC,eAAD,CAAF,CADnB;AAEC0B,MAAAA,OAAO,EAAE,CACRb,YAAY,CAAC;AACZE,QAAAA,KAAK,EACJ,4BACEf,CAAC,CAAC,kCAAD,CADH,EAEC,MAAC,UAAD,CAAY,IAAZ;AAAiB,UAAA,MAAM,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAyBE,OAAzB,CAFD,CAFW;AAOZY,QAAAA,KAAK,EAAE,MAAMZ,OAPD;AAQZc,QAAAA,IAAI,EAAE;AAAED,UAAAA,KAAK,EAAEb,OAAT;AAAkBgC,UAAAA,UAAU,EAAE;AAA9B,SARM;AASZhB,QAAAA,IAAI,EAAE,MAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AATM,OAAD,CADJ;AAFV,KAFS,CAAV;AAmBA;;AAED,SACC,4BACEZ,aAAa,IAAIJ,OAAO,CAAC4B,MAAR,KAAmB,CAApC,GACA,MAAC,QAAD,CAAU,KAAV;AAAgB,IAAA,MAAM,MAAtB;AAAuB,IAAA,SAAS,EAAE,2BAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,GAGA,MAAC,YAAD;AACC,IAAA,SAAS,EAAE,6BAA6BhC,KAAK,CAAC0C,SAD/C;AAEC,IAAA,GAAG,EAAEhC,GAFN;AAGC,IAAA,QAAQ,MAHT;AAIC,IAAA,UAAU,MAJX;AAKC,IAAA,SAAS,EAAE,MAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALZ;AAMC,IAAA,KAAK,EAAEN,OANR;AAOC,IAAA,OAAO,EAAEwB,OAPV;AAQC,IAAA,eAAe,EACd,MAAC,KAAD;AAAO,MAAA,KAAK,EAAE;AAAEe,QAAAA,OAAO,EAAG,GAAE1C,KAAK,CAACqB,OAAN,CAAcsB,SAAU;AAAtC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACExC,OAAO,IAAI,EAAX,IAAiB,MAAC,eAAD;AAAiB,MAAA,KAAK,EAAE;AAAEmC,QAAAA,QAAQ,EAAE;AAAZ,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADnB,EAEC,MAAC,UAAD,CAAY,IAAZ;AAAiB,MAAA,IAAI,EAAE,WAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACEnC,OAAO,IAAI,EAAX,GACEF,CAAC,CAAC,UAAD,CADH,GAEEA,CAAC,CAAC,uCAAD,CAHL,CAFD,CATF;AAkBC,IAAA,iBAAiB,EAAE,2BAlBpB;AAmBC,IAAA,QAAQ,EAAEG,QAnBX;AAoBC,IAAA,QAAQ,EAAE,CAACwC,CAAD,EAAIC,CAAJ,KAAUxC,QAAQ,CAACuC,CAAD,EAAIC,CAAC,CAAC5B,IAAN,CApB7B;AAqBC,IAAA,OAAO,EAAE,MAAM;AACdb,MAAAA,QAAQ,CAAC,EAAD,CAAR;AACA,KAvBF;AAwBC,IAAA,MAAM,EAAE0C,CAAC,IAAI;AACZ,UAAItC,QAAJ,EAAcJ,QAAQ,CAACI,QAAQ,CAACQ,KAAV,CAAR;AACd,KA1BF;AA2BC,IAAA,uBAAuB,EAAE8B,CAAC,IAAIjC,OAAO,CAACiC,CAAD,CA3BtC;AA4BC,IAAA,WAAW,EAAE7C,CAAC,CAAC,qCAAD,CA5Bf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KA6BC,MAAC,KAAD;AACC,IAAA,YAAY,EAAE,MAAM;AACnB,UAAIE,OAAJ,EACCE,QAAQ,CAACF,OAAD,EAAU;AAAEa,QAAAA,KAAK,EAAEb,OAAT;AAAkBgC,QAAAA,UAAU,EAAE;AAA9B,OAAV,CAAR;AACD,KAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA7BD,CAJF;AAAA;AAAA,cA4CcnC,KAAK,CAACqB,OAAN,CAAcsB,SA5C5B,EA4C2C3C,KAAK,CAACqB,OAAN,CAAc0B,SA5CzD,EAgDkB/C,KAAK,CAACqB,OAAN,CAAcsB,SAhDhC,EAiDiB3C,KAAK,CAACgD,MAAN,CAAaC,yBAjD9B,EAoDkCjD,KAAK,CAACkD,WAAN,CAAkBC,EApDpD,EAsDqBnD,KAAK,CAACqB,OAAN,CAAcC,SAtDnC,EAsDsDtB,KAAK,CAACqB,OAAN,CAAcC,SAtDpE;AAAA;AAAA,uHA4CctB,KAAK,CAACqB,OAAN,CAAcsB,SA5C5B,MA4C2C3C,KAAK,CAACqB,OAAN,CAAc0B,SA5CzD,qFAgDkB/C,KAAK,CAACqB,OAAN,CAAcsB,SAhDhC,iBAiDiB3C,KAAK,CAACgD,MAAN,CAAaC,yBAjD9B,kCAoDkCjD,KAAK,CAACkD,WAAN,CAAkBC,EApDpD,8DAsDqBnD,KAAK,CAACqB,OAAN,CAAcC,SAtDnC,UAsDsDtB,KAAK,CAACqB,OAAN,CAAcC,SAtDpE;;sHAAA,EADD;AA+DA,CA3KM;AA6KP,OAAO,MAAM8B,iBAAiB,GAAG,kBAA1B;;AACP,MAAMpB,mBAAmB,GAAG,MAAM;AACjC,QAAMqB,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqBH,iBAArB,CAAd;AACA,MAAII,GAAG,GAAG,EAAV;AACA,MAAIH,KAAJ,EAAWG,GAAG,GAAGC,IAAI,CAACC,KAAL,CAAWL,KAAX,CAAN;AACX,SAAOG,GAAP;AACA,CALD;;AAMA,OAAO,MAAMG,mBAAmB,GAAG,CAACC,YAAD,EAAevB,MAAf,KAA0B;AAC5D,MAAIA,MAAJ,EAAY;AACX,QAAI7B,QAAQ,GAAG,EAAf;AACAA,IAAAA,QAAQ,CAAC,IAAD,CAAR,GAAiB6B,MAAM,CAAC,OAAD,CAAvB;AACA7B,IAAAA,QAAQ,CAAC,MAAD,CAAR,GAAmB6B,MAAM,CAAC,MAAD,CAAzB;AACA7B,IAAAA,QAAQ,CAAC,YAAD,CAAR,GAAyB,QAAzB;;AACA,QAAIoD,YAAJ,EAAkB;AACjBpD,MAAAA,QAAQ,CAAC,QAAD,CAAR,qBAA0BA,QAA1B;AACAA,MAAAA,QAAQ,CAAC,IAAD,CAAR,GAAiBoD,YAAY,CAAC,CAAD,CAAZ,CAAgB,OAAhB,CAAjB;AACApD,MAAAA,QAAQ,CAAC,MAAD,CAAR,GAAmBoD,YAAY,CAAC,CAAD,CAAZ,CAAgB,MAAhB,CAAnB;AACApD,MAAAA,QAAQ,CAAC,YAAD,CAAR,GAAyB,cAAzB;AACA;;AACD,QAAIgD,GAAG,GAAGxB,mBAAmB,EAA7B;AACAwB,IAAAA,GAAG,GAAGA,GAAG,CAACK,MAAJ,CAAWC,CAAC,IAAIA,CAAC,CAACC,EAAF,IAAQvD,QAAQ,CAAC,IAAD,CAAhB,IAA0BsD,CAAC,CAAC,YAAD,CAAD,IAAmBtD,QAAQ,CAAC,YAAD,CAArE,CAAN;AACAgD,IAAAA,GAAG,GAAG,mBAAMhD,QAAN,GAAkB,GAAGgD,GAArB,CAAN;AACA,QAAIA,GAAG,CAACzB,MAAJ,GAAa,CAAjB,EAAoByB,GAAG,CAACQ,GAAJ;AACpBV,IAAAA,YAAY,CAACW,OAAb,CAAqBb,iBAArB,EAAwCK,IAAI,CAACS,SAAL,CAAeV,GAAf,CAAxC;AACA;AACD,CAlBM","sourcesContent":["import \"./styles.less\";\n\nimport { AutoComplete, Col, Input, Row, Skeleton, Space, Typography } from \"antd\";\nimport { CloseOutlined, SearchOutlined } from \"@ant-design/icons\";\nimport { KeywordLocationProps, useKeywordLocation } from \"./KeywordLocation.hook\";\nimport React, { useEffect, useRef, useState } from \"react\";\n\nimport { LoadingOutlined } from \"@ant-design/icons\";\nimport { LocationIcon } from \"../../CustomIcons/web\";\nimport { useTheme } from \"../../../Styles/ThemeHook\";\nimport { useTranslation } from \"react-i18next\";\n\nexport const KeywordLocation = (props: KeywordLocationProps) => {\n\tconst { theme } = useTheme();\n\n\tconst { t } = useTranslation();\n\tconst {\n\t\tshow,\n\t\tkeyword,\n\t\tonSearch,\n\t\tonSelect,\n\t\tsearchResults,\n\t\tsearchLoading,\n\t\tlocation,\n\t} = useKeywordLocation(props);\n\tconst ref = useRef(null);\n\n\tuseEffect(() => {\n\t\tif (location) ref.current.blur();\n\t}, [location]);\n\n\tconst [isOpen, setOpen] = useState(false);\n\n\tif (!show) return null;\n\n\tconst renderOption = ({ value, label, data, group = null, icon }) => {\n\t\treturn {\n\t\t\tdata: data,\n\t\t\tvalue: value,\n\t\t\tlabel: (\n\t\t\t\t<Row>\n\t\t\t\t\t<Col style={{ marginRight: theme.spacing.smSpacing }}>{icon}</Col>\n\t\t\t\t\t<Typography.Text ellipsis style={{ flex: \"1\" }}>\n\t\t\t\t\t\t{label}\n\t\t\t\t\t</Typography.Text>\n\t\t\t\t\t{group && (\n\t\t\t\t\t\t<Col style={{ marginLeft: theme.spacing.smSpacing }}>\n\t\t\t\t\t\t\t<Typography.Text type=\"secondary\">{group}</Typography.Text>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t)}\n\t\t\t\t</Row>\n\t\t\t),\n\t\t};\n\t};\n\tconst renderTitle = title => {\n\t\treturn (\n\t\t\t<Row>\n\t\t\t\t<Typography.Text strong>{title}</Typography.Text>\n\t\t\t</Row>\n\t\t);\n\t};\n\n\tlet options = [];\n\n\t// location options && recient searches\n\tlet optionsData = [];\n\tlet optionsTitle = \"\";\n\n\tif (searchResults?.searchLocation.length > 0 && keyword.length > 0) {\n\t\toptionsData = searchResults.searchLocation;\n\t\toptionsTitle = t(\"Ubicacion\");\n\t} else if (keyword.length == 0 && isOpen) {\n\t\toptionsData = getRecientLocations();\n\t\toptionsTitle = t(\"Recientes\");\n\t}\n\n\tif (optionsData.length > 0) {\n\t\toptions = [\n\t\t\t{\n\t\t\t\tlabel: renderTitle(optionsTitle),\n\t\t\t\toptions: optionsData.map(o => {\n\t\t\t\t\tconst label =\n\t\t\t\t\t\to.__typename == \"Neighborhood\" ? o.name + \", \" + o.estate.name : o.name;\n\t\t\t\t\tconst group = o.__typename == \"Neighborhood\" ? \"Barrio\" : \"Departamento\";\n\t\t\t\t\tconst icon = <LocationIcon style={{ fontSize: theme.fontSizes.smTitle }} />;\n\t\t\t\t\treturn renderOption({\n\t\t\t\t\t\tvalue: label,\n\t\t\t\t\t\tlabel,\n\t\t\t\t\t\tdata: { ...o, label: label },\n\t\t\t\t\t\ticon,\n\t\t\t\t\t\tgroup,\n\t\t\t\t\t});\n\t\t\t\t}),\n\t\t\t},\n\t\t];\n\t}\n\n\t// keyword option\n\tif (!searchLoading && keyword.length > 0) {\n\t\toptions = [\n\t\t\t...options,\n\t\t\t{\n\t\t\t\tlabel: renderTitle(t(\"Palabra Clave\")),\n\t\t\t\toptions: [\n\t\t\t\t\trenderOption({\n\t\t\t\t\t\tlabel: (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t{t(\"Buscar inmuebles relacionados a \")}\n\t\t\t\t\t\t\t\t<Typography.Text strong>{keyword}</Typography.Text>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t),\n\t\t\t\t\t\tvalue: \" \" + keyword,\n\t\t\t\t\t\tdata: { label: keyword, __typename: \"keyword\" },\n\t\t\t\t\t\ticon: <SearchOutlined />,\n\t\t\t\t\t}),\n\t\t\t\t],\n\t\t\t},\n\t\t];\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{searchLoading && keyword.length === 0 ? (\n\t\t\t\t<Skeleton.Input active className={\"keyword-location-skeleton\"} />\n\t\t\t) : (\n\t\t\t\t<AutoComplete\n\t\t\t\t\tclassName={\"filter keyword-location \" + props.className}\n\t\t\t\t\tref={ref}\n\t\t\t\t\tbackfill\n\t\t\t\t\tallowClear\n\t\t\t\t\tclearIcon={<CloseOutlined />}\n\t\t\t\t\tvalue={keyword}\n\t\t\t\t\toptions={options}\n\t\t\t\t\tnotFoundContent={\n\t\t\t\t\t\t<Space style={{ padding: `${theme.spacing.xsSpacing}px 0` }}>\n\t\t\t\t\t\t\t{keyword != \"\" && <LoadingOutlined style={{ fontSize: 18 }} />}\n\t\t\t\t\t\t\t<Typography.Text type={\"secondary\"}>\n\t\t\t\t\t\t\t\t{keyword != \"\"\n\t\t\t\t\t\t\t\t\t? t(\"Cargando\")\n\t\t\t\t\t\t\t\t\t: t(\"Escribe una ubicación o palabra clave\")}\n\t\t\t\t\t\t\t</Typography.Text>\n\t\t\t\t\t\t</Space>\n\t\t\t\t\t}\n\t\t\t\t\tdropdownClassName={\"dropdown-keyword-location\"}\n\t\t\t\t\tonSearch={onSearch}\n\t\t\t\t\tonSelect={(a, b) => onSelect(a, b.data)}\n\t\t\t\t\tonFocus={() => {\n\t\t\t\t\t\tonSearch(\"\");\n\t\t\t\t\t}}\n\t\t\t\t\tonBlur={e => {\n\t\t\t\t\t\tif (location) onSearch(location.label);\n\t\t\t\t\t}}\n\t\t\t\t\tonDropdownVisibleChange={e => setOpen(e)}\n\t\t\t\t\tplaceholder={t(\"Buscá por ubicación o palabra clave\")}>\n\t\t\t\t\t<Input\n\t\t\t\t\t\tonPressEnter={() => {\n\t\t\t\t\t\t\tif (keyword)\n\t\t\t\t\t\t\t\tonSelect(keyword, { label: keyword, __typename: \"keyword\" });\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</AutoComplete>\n\t\t\t)}\n\t\t\t<style jsx global>{`\n\t\t\t\t.dropdown-keyword-location .ant-select-item-option-grouped,\n\t\t\t\t.dropdown-keyword-location .ant-select-item {\n\t\t\t\t\tpadding: ${theme.spacing.xsSpacing}px ${theme.spacing.mdSpacing}px;\n\t\t\t\t}\n\n\t\t\t\t.dropdown-keyword-location .ant-select-item.ant-select-item-group {\n\t\t\t\t\tpadding-top: ${theme.spacing.xsSpacing}px;\n\t\t\t\t\tbackground: ${theme.colors.backgroundColorAternative};\n\t\t\t\t}\n\n\t\t\t\t@media screen and (max-width: ${theme.breakPoints.lg}) {\n\t\t\t\t\t.home-filters .keyword-location .ant-input {\n\t\t\t\t\t\tborder-radius: ${theme.spacing.smSpacing}px 0 0 ${theme.spacing.smSpacing}px;\n\t\t\t\t\t\tposition: relative;\n\t\t\t\t\t\t-webkit-appearance: none;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t`}</style>\n\t\t</>\n\t);\n};\n\nexport const LOCAL_STORAGE_KEY = \"RecientLocations\";\nconst getRecientLocations = () => {\n\tconst items = localStorage.getItem(LOCAL_STORAGE_KEY);\n\tlet res = [];\n\tif (items) res = JSON.parse(items);\n\treturn res;\n};\nexport const setRecientLocations = (neighborhood, estate) => {\n\tif (estate) {\n\t\tlet location = {};\n\t\tlocation[\"id\"] = estate[\"value\"];\n\t\tlocation[\"name\"] = estate[\"text\"];\n\t\tlocation[\"__typename\"] = \"Estate\";\n\t\tif (neighborhood) {\n\t\t\tlocation[\"estate\"] = { ...location };\n\t\t\tlocation[\"id\"] = neighborhood[0][\"value\"];\n\t\t\tlocation[\"name\"] = neighborhood[0][\"text\"];\n\t\t\tlocation[\"__typename\"] = \"Neighborhood\";\n\t\t}\n\t\tlet res = getRecientLocations();\n\t\tres = res.filter(l => l.id != location[\"id\"] || l[\"__typename\"] != location[\"__typename\"]);\n\t\tres = [{ ...location }, ...res];\n\t\tif (res.length > 5) res.pop();\n\t\tlocalStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(res));\n\t}\n};\n"]},"metadata":{},"sourceType":"module"}